\section{矩阵变换的类型}

在本节，我们会讨论四种基本的二维矩阵变换：缩放、剪切、旋转、反射。当一个矩阵变换作用于一个二维图形时，实质上就是令矩阵与二维图形上每一个点对应的向量做矩阵乘法。

\begin{BoxFormula}[二维坐标变换]
    二维坐标变化的一般形式为
    \begin{Equation}
        \begin{pmatrix}
            x'\\
            y'
        \end{pmatrix}=
        \begin{pmatrix}
            a_{11}&a_{12}\\
            a_{21}&a_{22}
        \end{pmatrix}
        \begin{pmatrix}
            x\\
            y
        \end{pmatrix}
    \end{Equation}
\end{BoxFormula}

为了更好理解每一种矩阵变换的作用，本节讨论时将会把不同变换作用在\cref{fig:矩阵变换的对象}所示图形上。
\begin{Figure}[矩阵变换的对象]
    \includegraphics[scale=0.8]{Chapter06A_01.fig.pdf}
\end{Figure}

其中，四个不同颜色的色块可以辅助判断图形变换后发生的方向变化。

\subsection{缩放变换}
\begin{BoxDefinition}[缩放变换]
    缩放变换定义为
    \begin{Equation}
        \te{scale}(s_x,s_y)=
        \begin{pmatrix}
            s_x&0\\
            0&s_y
        \end{pmatrix}
    \end{Equation}
\end{BoxDefinition}
其中$s_x,s_y$分别代表图形沿$x$轴和沿$y$轴的缩放比例，特别的$\te{scale}(1,1)$即不变化。另外，通常我们认为在缩放变换中$s_x>0,s_y>0$均为正，对于负值的情况我们会将其视为反射。

\begin{Figure}[缩放变换]
    \includegraphics[scale=0.8]{Chapter06A_02.fig.pdf}
\end{Figure}
\cref{fig:缩放变换}中，展示了$\te{scale}(2,2)$的效果，注意到图形整体被放大了两倍。

\subsection{剪切变换}
\begin{BoxDefinition}[剪切变换]
    沿$x$方向的剪切变换定义为
    \begin{Equation}
        \te{shear}_x(d)=
        \begin{pmatrix}
            1&d\\
            0&1    
        \end{pmatrix}
    \end{Equation}
    沿$y$方向的剪切变换定义为
    \begin{Equation}
        \te{shear}_y(d)=
        \begin{pmatrix}
            1&0\\
            d&1\\
        \end{pmatrix}
    \end{Equation}
\end{BoxDefinition}
其中$d$代表剪切系数。剪切的意思是将一个东西向一侧挤压，最形象的例子莫过于想象我们拿着一幅叠好的扑克牌，用手搓一下，此时，最底部的扑克牌将保持不动，越靠上的扑克牌滑动越大，截面从正方形变为了一个平行四边形。也可以从数学上分析，考虑$\te{shear}_x(d)$的作用
\begin{Equation}
    \begin{pmatrix}
        x'\\
        y'\\
    \end{pmatrix}=
    \begin{pmatrix}
        1&d\\
        0&1
    \end{pmatrix}
    \begin{pmatrix}
        x\\
        y\\
    \end{pmatrix}=
    \begin{pmatrix}
        x+dy\\
        y\\
    \end{pmatrix}
\end{Equation}
很明显的，变换时$y$越大的点变换后$x'=x+dy$在$x$方向上就会发生越大的偏移。

剪切最直观的理解就是矩形变为平行四边形，\cref{fig:剪切变换}展示了$\te{shear}_x(1)$和$\te{shear}_y(1)$的效果。

\begin{Figure}[剪切变换]
    \figuresub[沿$x$方向的剪切]{\includegraphics[scale=0.8]{Chapter06A_03.fig.pdf}}{0.4}    
    \figuresub[沿$y$方向的剪切]{\includegraphics[scale=0.8]{Chapter06A_04.fig.pdf}}{0.4}
\end{Figure}

剪切也可以从另外一种角度理解，如果令$d=\tan\phi$，那么$\te{shear}_x(d)$和$\te{shear}_y(d)$可以分别解读为“仅令$y$轴顺时针旋转$\phi$”和“仅令$x$逆时针旋转$\phi$”，\cref{fig:剪切变换}中亦展现了这一点。

\subsection{旋转变换}

\begin{BoxDefinition}[旋转变换]
    旋转变换定义为
    \begin{Equation}
        \te{rotate}(\phi)=
        \begin{pmatrix}
            \cos\phi&-\sin\phi\\
            \sin\phi&\cos\phi\\
        \end{pmatrix}
    \end{Equation}
\end{BoxDefinition}
其中$\phi$代表逆时针的旋转角度。旋转的矩阵比较费解，我们可以先将其展开
\begin{Equation}[旋转变换1]
    \begin{pmatrix}
        x'\\
        y'\\
    \end{pmatrix}=
    \begin{pmatrix}
        \cos\phi&-\sin\phi\\
        \sin\phi&\cos\phi\\
    \end{pmatrix}
    \begin{pmatrix}
        x\\
        y\\
    \end{pmatrix}=
    \begin{pmatrix}
        x\cos\phi-y\sin\phi\\
        y\cos\phi+x\sin\phi\\
    \end{pmatrix}
\end{Equation}
现在我们考虑$(x,y)$自身，设其模长和幅角（相对$x$轴的夹角）分别为$r$和$\alpha$
\begin{Gather}[旋转变换]
    x=r\cos\alpha\id{2}\\
    y=r\sin\alpha\id{3}
\end{Gather}
类似的$(x',y')$也可以这样表示，但由于其相对$(x,y)$旋转了$\phi$故幅角变为$\alpha+\phi$
\begin{Gather}
    x'=r\cos(\alpha+\phi)\\
    y'=r\sin(\alpha+\phi)
\end{Gather}
应用三角函数的和差化积公式
\begin{Gather}
    x'=r\cos\alpha\cos\phi-r\sin\alpha\sin\phi\\
    y'=r\sin\alpha\cos\phi+r\cos\alpha\sin\phi
\end{Gather}
代入\cref{eq:旋转变换2}和\cref{eq:旋转变换3}
\begin{Gather}
    x'=x\cos\phi-y\sin\phi\\
    y'=y\cos\phi+x\sin\phi
\end{Gather}
这和\cref{eq:旋转变换1}中矩阵给出的结果，至此就解释了为什么这样一个矩阵可以表示旋转。

\begin{Figure}[旋转变换]
    \includegraphics[scale=0.8]{Chapter06A_05.fig.pdf}
\end{Figure}
\cref{fig:旋转变换}中，展示了$\te{rotate}(\pi/4)$的效果，注意到图形逆时针旋转了$\pi/4$。

\subsection{反射变换}

\begin{BoxDefinition}[反射变换]
    以$x$轴为对称轴（翻转$y$轴）的反射变换定义为
    \begin{Equation}
        \te{reflect}_x=
        \begin{pmatrix}
            1&0\\
            0&-1\\
        \end{pmatrix}
    \end{Equation}
    以$y$轴为对称轴（翻转$x$轴）的反射变换定义为
    \begin{Equation}
        \te{reflect}_y=
        \begin{pmatrix}
            -1&0\\
            0&1\\
        \end{pmatrix}
    \end{Equation}
\end{BoxDefinition}
从\cref{fig:反射变换}中可以看出$\te{reflect}_x$和$\te{reflect}_y$分别代表图形以$x$轴或以$y$轴进行对称，也可以认为是另一轴翻转为负方向。特别注意这里的色块分布，反射变换不等价$\mp\pi/2$的旋转变换！

\begin{Figure}[反射变换]
    \figuresub[以$x$轴为对称轴的反射]{\includegraphics[scale=0.8]{Chapter06A_07.fig.pdf}}{0.4}    
    \figuresub[以$y$轴为对称轴的剪切]{\includegraphics[scale=0.8]{Chapter06A_06.fig.pdf}}{0.4}   
\end{Figure}